%clearfix {
  &:after{
    content: "";
    display: table;
    clear: both;
  }
}
%fullpagewidth{
  width: 100vw;
  position: relative;
  left: 50%;
  right: 50%;
  margin-left: -50vw;
  margin-right: -50vw;
}
$single-column-cutoff: 960px;
$mobile-cutoff:480px;
@mixin mobile_screens(){
  @media screen and (max-width: $mobile-cutoff - 1px){
    @content;
  }
}
@mixin normal_screens(){
  @media screen and (min-width: $mobile-cutoff){
    @content;
  }
}

@mixin single_column(){
  @media screen and (max-width: $single-column-cutoff - 1px){
    @content;
  }
}
@mixin multi_column(){
  @media screen and (min-width: $single-column-cutoff){
    @content;
  }
}
.subscription-wrapper{
  background: inherit;
  &.content{
    padding-top:65px;
  }

  .custom-subscription{
    @extend %clearfix;
    @extend %fullpagewidth;
    position:relative;
    top:0px;
    &.custom-subscription-top{
      background:#f3f3f3;
    }
    .subscription-description{
      width:50%;
      @include single_column(){
        width:100%;
      }
      float:left;
      min-height:50vh;
      @include multi_column(){
        position:sticky;
        top:150px;
      }
      h3{
        font-size: 1.500rem;
        line-height: 24px;
        color: #333333;
        font-weight: 700;
        font-family: 'Montserrat', sans-serif;
        text-transform: capitalize;
      }
      ul{
        li{
          padding: 0 0 16px;
          margin: 0;
          font-size: 1.250rem;
          line-height: 20px;
          color: #2dafd9;
          font-weight: 400;
          font-family: 'Montserrat', sans-serif;
          letter-spacing: 0.2px;
        }
      }
      .subscription-image{
        img{
          width:100%;
          height:auto;
        }
      }
    }
    .subscription-selections{
      width:50%;
      @include single_column(){
        width:100%;
      }
      float:left;
      min-height:150vh;
      background:#f3f3f3;
      header, header.sticky{
        background: linear-gradient(rgba(243, 243, 243, 1) 70%, rgba(243, 243, 243, 0));
      }
    }
    .subscription-info{
      @extend %clearfix;
      width:100%;
      background:white;
      min-height:200px;

      &.reviews{
        min-height:300px;
        header{
          text-align: center;
          width:100%;
        }
      }
      &.promo-banner{
        @extend %fullpagewidth;
        background:#2dafd9;
        color:white;
        padding:50px 0;
        text-align: center;
        header{
          h1,h2,h3,h4,h5,h6{
            color:white;
          }
          h2{
            font-size:1.750rem;
          }
        }
        p,div{
          font-size: 1.100rem;
          background:inherit;
        }
        .satisfaction-guarantee{
          @include multi_column(){
            width:calc(50% - 1em);
            float:left;
            padding-right:1em;
          }
          @include single_column(){
            width:100%;
          }
        }
        .shipping-summary{
          @include multi_column(){
            width:calc(50% - 1em);
            float:left;
            padding-left:1em;
          }
          @include single_column(){
            width:100%;
          }
        }
      }
      &.composition{
        @extend %fullpagewidth;
        @include multi_column(){
          position:relative;
          display:flex;
        }
        header{
          text-align: center;
          width:100%;
          margin-top:50px;
        }

        .sock-specs{
          @extend %clearfix;
          width:50%;
          @include single_column(){
            width:100%;
          }
          float:left;
          position: relative;
          img.promo-image{
            width:100%;
            float: left;
            top:0;
            left:0;
            z-index: 0;
          }
          img.laundry-icon{
            filter: brightness(1000%);
          }
          .image-inner{
            position:absolute;
            top:0;
            left:0;
            width:100%;
            z-index: 1;
            header{
              text-align: left;
              position:relative;
            }
            ul,p,div,h2{
              position: relative;
              z-index: 2;
              color: white;
              padding:0;
              margin:0;
              @include normal_screens(){
                padding-left:60%;
              }
              @include mobile_screens(){
                padding-left:47%;
                padding-right:0.5em;
              }
              text-align: left;
            }
            ul{
              margin-top:30px;
              list-style: none;
              li{
                padding:0;
                margin:0;
              }
              &.washing-instructions{
                @include mobile_screens(){
                  margin: 0;
                  padding: 0;
                  position: absolute;
                  bottom: 0em;
                  left: 1em;
                }
                li{
                  display:inline-block;
                  abbr{
                    border:none;
                  }
                }
              }
            }
          }
        }
        .sock-tech{
          width:50%;
          @include single_column(){
            width:100%;
          }
          float:left;
          text-align:center;
          header{
            position: relative;
          }
          ul{
            list-style: none;
            margin:0;
            padding:0;
            li{
              margin:2em 0 0;
              padding:0;
            }
          }
          h3{
            font-size: 1rem;
            font-weight:bold;
            margin:0;
            padding:0;
          }
          h3,p{
            @include multi_column(){
              width:30em;
            }
            margin-left:auto;
            margin-right:auto;
          }
        }

        .featured-video-wrapper{
          @extend %clearfix;
          position:relative;
          float: left;
          &:after{
            display: block;
            content: '\25B6';
            position: absolute;
            width: 2em;
            height: 2em;
            border-radius: 50%;
            color: white;
            border: 4px solid white;
            box-shadow: 0px 0px 1em 1px black;
            text-shadow: 0px 0px 0.5em black;
            pointer-events: none;
            top: calc(50% - 1em);
            background: transparent;
            font-size: 2.5rem;
            text-align: center;
            line-height: 2em;
            left: calc(50% - 1em);
          }
          &:hover{
            opacity:0.8;
            box-shadow: 0px 0px 1em 1px lightyellow;
            &:after{
              box-shadow: 0px 0px 1.5em 1px darkgrey;
              text-shadow: 0px 0px 0.75em darkgrey;
            }
          }
        }
        .sock-details-wrapper{
          position:relative;
          flex-wrap: wrap;
          float:left;
          padding-left:60px;
          figure{
            float: left;
          }
          .sock-technical-details{
            position:absolute;
            left:0px;
            top:175px;
            font-size:0.66rem;
            line-height:0.66rem;
            ul{
              margin-left:0;
              padding-left:2em;
              list-style: none;
              li{
                margin: 0.1em 0;
              }
              &.washing-instructions{
                li{
                  display:inline-block;
                  abbr{
                    border:none;
                    height: 1rem;
                    img{
                      height:1rem;
                      width:auto;
                    }
                  }
                }
              }
            }
            p{
              padding:0;
              padding-left:2em;
              margin:0;
            }
          }
          .sock-composition-labels{
            float:left;
            max-width:250px;
            ul{
              list-style: none;
              margin:0;
              padding:0;
              font-size:0.66rem;
              li.composition-label{
                margin:4px 0;
                padding:0 1em;
                p, header, h5{
                  margin:0;
                  padding:0;
                  word-wrap: wrap;
                }
                h5{
                  font-size:0.75rem;
                  display:inline;
                }
                &:hover{
                  background:#2dafd9;
                  color:white;
                  margin:0px;
                  border:1px solid black;
                  .letter-tag{
                    background:#2dafd9;
                    color:white;
                  }
                  h5{
                    color:white;
                  }
                }
              }
            }
            .letter-tag{
              background:lightgrey;
              border:1px solid black;
              border-radius: 50%;
              font-weight:bold;
              width:1.33em;
              height:1.33em;
              line-height:1.33em;
              display:inline-block;
              text-align: center;
              position:relative;
              vertical-align: middle;
              color:black;
              margin-left:-2em;
              &.positioned-in-image{
                position:absolute;
                font-size: 1rem;
                margin:0;
                &.letter-a{
                  top:50px;
                  left:80px;
                }
                &.letter-b{
                  top:150px;
                  left:190px;
                }
                &.letter-c{
                  top:260px;
                  left:205px;
                }
                &.letter-d{
                  top:310px;
                  left:330px;
                }
                &.letter-e{
                  top:180px;
                  left:250px;
                }
              }
            }
          }
        }
      }
    }

    header{
      &.sticky{
        @include multi_column(){
          position:sticky;
          top:0px;
        }
        padding-top:70px;
        padding-bottom:0.75em;
        background:inherit;
        z-index: 3;
        pointer-events: none;
      }
      h2{
        padding: 0 0 4px;
        margin: 0;
        font-size: 2.152rem;
        line-height: 35px;
        letter-spacing: 0.4px;
      }
      p{
        padding: 0 0 50px;
        margin: 0;
        color: #2dafd9;
        font-size: 1.500rem;
        line-height: 24px;
        font-weight: 400;
        font-family: 'Montserrat', sans-serif;
        letter-spacing: 0.3px;
        display: block;
        font-style: italic;
      }
    }
    .custom-subscription-submit{
      width:100%;
      padding-top:1em;
      padding-bottom:1em;
      margin-bottom:0.5em;
      border:1px solid black;
      flex-grow: 1;
      background:white;
      color:black;
      vertical-align: middle;
      font-size: 1.25rem;
      transition: all 0.33s;
      cursor: pointer;
      &:hover{
        background:black;
        color:white;
      }
      span{
        color:inherit;
        display:inline-block;
        width:100%;
        text-align: center;
        font-size:inherit;
      }
    }
  }
}

.swatch-wrapper{
  display:flex;
  justify-content: space-between;
  flex-wrap: wrap;
  font-size: 1.25rem;

  @include normal_screens(){
    &[data-value-count="1"]{
      flex-wrap:nowrap;
      & > label {
        width:100%!important;
      }
    }
    &[data-value-count="3"]{
      flex-wrap:nowrap;
      & > label {
        width:32%!important;
        max-width:32%!important;
      }
    }
  }

  .swatch-radio{
    display:none;
    &:disabled+label{
      cursor: not-allowed;
      background-color: lightgrey;
      background-image: repeating-linear-gradient(-60deg, transparent, transparent 20px, darkgrey 20px, darkgrey 40px);
      color: #666;
    }
    &+label{
      padding-top:1em;
      padding-bottom:1em;
      margin-bottom:0.5em;
      {% comment %} border:1px solid black; {% endcomment %}
      -webkit-box-shadow: 0em .15em 2em .10em rgba(0,0,0,0.15);  
      -moz-box-shadow: 0em .15em 2em .10em rgba(0,0,0,0.15);   
       box-shadow: 0em .15em 2em .10em rgba(0,0,0,0.15);  
      flex-grow: 1;
      background:white;
      color:black;
      vertical-align: middle;
      font-size: inherit;
      transition: all 0.33s;
      @include normal_screens(){
        width:49%;
        max-width:49%;
      }
      @include mobile_screens(){
        width:100%;
      }
      cursor: pointer;
      span{
        color:inherit;
        display:inline-block;
        width:100%;
        text-align: center;
        font-size:inherit;
        &.swatch-label-title{
          font-weight: bold;
          text-transform: uppercase;
        }
        &.swatch-subtitle{
          font-style: italic;
          font-weight: normal;
          text-transform: none;
        }
      }
    }
    &:checked+label{
      background:#2dafd9;
      color:white;
      -webkit-box-shadow: none;  
      -moz-box-shadow: none;  
       box-shadow: none;  

    }
  }
}

input.text-toggle{
  display:none;
  &+label.toggle{
    cursor:pointer;
    display: inline-block;
    margin:0;
    padding:0;
    position:relative;
    .expanded-text-trigger{
      font-weight: normal;
      color:#2dafd9;
      text-decoration: underline;
      text-transform: none;
      display:inline-block;
      width:100%;
      float:unset;
      font-size:1rem;
      padding: 0 2em;
    }
  }
  & ~ p.expanded-text-body{
    font:unset;
    color:unset;
    label{
      color:#2dafd9;
      cursor:pointer;
      display:inline-block;
      margin-left:2em;
      margin-bottom:0.5em;
    }
  }

  & ~ .expanded-text-body{
    height:0;
    overflow: hidden;
    position:relative;

    &.swatch-wrapper{
      display:flex;
      flex-wrap:wrap;
    }
    &:not(header){
      padding:0;
      margin:0;
    }
    font-weight: normal;
    text-transform: none;
    opacity:0;
    transition:all 0.33s;
    width:100%;
    label.toggle{
      display:inline-block;
      padding-left:4em;
      color:#2dafd9;
      cursor: pointer;
      text-decoration: underline;
      font-weight: normal;
      font-style:italic;
      text-transform: none;
    }
  }
  &:checked{
    &~label.toggle{
      display:none;
      .expanded-text-trigger{
        height:0;
        overflow:hidden;
      }
    }
    & ~ .expanded-text-body{
      height:auto;
      opacity:1;
    }
  }
}

input.slider-toggle{
  display:none;
  &+label{
  cursor:pointer;
  position:relative;
  display:inline-block;
  height:35px;
  padding:0 0.2em;
  margin:0;
  font-size:1.05rem;
  transition:all 0.5s;
  visibility:hidden;
  margin-top:0;
  line-height:1em;
  vertical-align:middle;
  &:before {
    display:block;
    width:3.75em;
    height:1em;
    content:'No';
    background-color:#AAA;
    padding:0.3em 0.75em;
    border-radius:3px;
    visibility:visible;
    transition:all 0.5s;
    overflow:hidden;
    text-align:right;
    font-weight:bold;
    color:black;
    text-transform: uppercase;
  }
  &:after{
    content:' ';
    position:absolute;
    width:2em;
    height:calc(1.6em - 2px);
    border-radius:3px;
    visibility:visible;
    top:0;
    left:0;
    transition:all 0.15s;
    background:linear-gradient(white, lightgrey);
    border:1px outset darkgrey;
  }
  }
  &:checked{
    &+label{
    &:before {
      content:'Yes';
      background-color:#2dafd9;
      color:white;
      text-align:left;
    }
    &:after{
      left:calc(3.25em + 2px);
      background-color:green;
    }
  }
  }
}
header{
  margin-top:1.5em;
  &.has-toggle{
    h1,h2,h3,h4,h5,h6{
      display:inline-block;
      margin-right:2em;
    }
  }
}
.prepaid_subscription_alert{
  display:none;
  &:before{
    content:' ';
    display:inline-block;
    width:1.5em;
    height:1.5em;
    background-image:url("{{ 'icon-warning-triangle.png' | file_img_url: '24x' }}");
    background-repeat: no-repeat;
    background-size: contain;
    margin-right:1em;
  }
}
button.custom-subscription-submit:disabled{
  cursor: not-allowed!important;
  background-color: lightgrey;
  background-image: repeating-linear-gradient(-60deg, transparent, transparent 20px, darkgrey 20px, darkgrey 40px)!important;
  color: #666;
}
